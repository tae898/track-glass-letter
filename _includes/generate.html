<!-- Your existing content goes here -->

<div id="map"></div>

<script>
  // Function to get and display the user's location
  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition);
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }

  // Callback function to handle the retrieved location
  function showPosition(position) {
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;

    // Display the location on the map (you can use a mapping library for better visualization)
    const mapElement = document.getElementById("map");
    mapElement.innerHTML = `<p>You are currently at</p><p>Latitude: ${latitude}</p><p>Longitude: ${longitude}</p>`;

    // Create a URL with the location data
    // const locationURL = `https://tae898.github.io/track-glass-letter/mobile.html`;
    const locationURL = `https://127.0.0.1:4000/mobile.html`;

    // Create a QR code with the location URL
    const qrCodeElement = document.createElement("img");
    qrCodeElement.src = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(
      locationURL
    )}&size=150x150`;

    // Append the QR code to the body
    document.body.appendChild(qrCodeElement);
  }

  // Call the getLocation function when the page loads
  window.onload = getLocation;
</script>
